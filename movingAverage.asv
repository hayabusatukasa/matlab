function env = movingAverage(sig,windowSize,type)
if nargin<3
    type = 1;
end


switch type
    case 2
        coeff = ones(windowSize,1)/windowSize;
        env = filter(coeff,sig,1);
    otherwise
        coeff = ones(1,windowSize)/windowSize;
        env = filter(coeff,1,sig);
end


end